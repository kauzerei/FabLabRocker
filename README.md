# FabLabRocker

A simple servo-based lab rocker with variable frequency and amplitude.
Designed for DIY PCB fabrication, but can be used for large format photography or chemistry.
3d-design is customizable, written in OpenSCAD and BOSL2.
Measure your container and make the parts that fit ideally.

## PCB

PCB is as simple as it can get.
The project is all about DIY PCB fabrication, so of course it is.
It is one-sided and basically connects a ready-made modules.
Power from a cell does through a switch to DC-DC converter that powers Arduino and the servo.
Two potentiometers are wired to 0 and 5v rails and to analog inputs of Arduino.

### PCB parts list

- Arduino Nano or Pro Micro (change analog pins in code)
- 2 linear Potentiometers, Piher T 16..H or similar, about 25k
- mini DC-DC converter module (noname asymmetric one, based around SDB628xx)
- MG90S Servo
- Any toggle switch to be mounted in 7mm hole
- 18650 holder and cell
- Pin headers/sockets to connect the servo and the switch

## Other parts needed

- 6 M2 thread inserts and 2 M2x8 are nice to have, but not strictly necessary.
- 2 M4x8 screws for the rocking joint. Can also be replaced with almost anything. 

## 3d-printed parts

### Modifying with OpenSCAD

Printable files in STL format are included in this repo.
The ```rocker_top``` should be generated by the user most likely to fit the container.
It's not too scary even if you don't know anything about OpenSCAD.

After installing OpenSCAD run ```git submodule update --init``` and open ```rocker.scad```.
There is "customizer" panel in GUI where you can change the parameters

Model parameters are grouped into self-explanatory categories.
most important are ```bath_width```, ```bath_depth``` which are measurements of container bottom, and ```bath_rounding``` and ```bath_chamfer```, which define corner rounding of the container.
Of the last two parameters only one can be non-zero.

### Printing

Print in default orientation.
2 walls with 30% infill seems fine.
Maybe 3 walls for heavier container with more liquid.

For the ```top_mech``` part use organic supports for the gear.
Other parts are fine without supports.

## Assembly

Assemble the PCB.
KiCad project is in ```agitator_pcb```.

I mounted boost module using pin headers, but any thick wire will do.
I soldered wires and pins to the switch, and pin sockets to the board.
Soldering directly is also OK.
Don't forget to set the voltage of DC-DC converter to 5v.

Customize the mechanical parts and print them.
For the top assembly use 4 thread inserts in ```top_mech```, for mounting the motor use 2 in ```bottom``` and matching M2x8 screws.
Or don't. You can use self-tapping screws or glue or whatever.
The moveable joints are formed by two M4x8 screws.
Any pins 4mm in diamter and 8mm or longer glued to the moving part would be OK.
Press the gear to the shaft of the motor, but fix it with the screw only after the tests.
Mid position of the servo should correspond to horizontal position of the platform.
Fix the gear with M2.5 screw, that comes with each servo when it is oriented correctly. 
PCB is held by the pots, put them through the holes in the enclosure and fix with nuts.

The rocking mechanics just rests on top of the enclosure not beig fixed.
If it bothers you, you can just glue it.
The cell should still be accessible if you do it.  

### Usage

One pot changes the oscillation frequency, the other controls amplitude.
High amplitudes are not achievable with high frequencies.
At high frequencies servo does not have time to rotate to goal positions.
I kept the high frequencies as an imitation of vibrating plate at low amplitudes.